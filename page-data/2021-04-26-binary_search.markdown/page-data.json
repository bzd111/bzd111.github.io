{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021-04-26-binary_search.markdown/","result":{"data":{"markdownRemark":{"html":"<!-- vim-markdown-toc Redcarpet -->\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"#tempalte\">Tempalte</a>\n<ul>\n<li><a href=\"#lower_bound\">lower_bound</a></li>\n<li><a href=\"#upper_bound\">upper_bound</a></li>\n</ul>\n</li>\n<li><a href=\"#example\">Example</a>\n<ul>\n<li><a href=\"#no-1-leetcode-69-sqrt-x\">No.1 Leetcode 69 |sqrt(x)|</a></li>\n<li><a href=\"#no-2-leetcode-278-first-bad-version\">No.2 Leetcode 278. First Bad Version</a></li>\n<li><a href=\"#no-3-leetcode-875-koko-eating-bananas\">No.3 Leetcode 875. Koko Eating Bananas</a></li>\n<li><a href=\"#no-4-leetcode-378-kth-smallest-element-in-a-sorted-matrix\">No.4 Leetcode 378 Kth Smallest Element in a Sorted Matrix</a></li>\n</ul>\n</li>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n<!-- vim-markdown-toc -->\n<p>#前言</p>\n<p>二分查找</p>\n<h1 id=\"tempalte\" style=\"position:relative;\"><a href=\"#tempalte\" aria-label=\"tempalte permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tempalte</h1>\n<p>[l, r) 左闭右开</p>\n<p>f(m)：可选的，用来判断结果</p>\n<p>g(m)：用来缩小区间</p>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">func binary_search(l, r int) int{\n    for l &lt; r:\n        m := l + (r - l) // 2\n        if f(m): return m  // optional\n        if g(m):\n            r = m // new range [l, m)\n        else:\n            l = m + 1 // new range [m+1, r)\n    return l // or not found\n}</code></pre></div>\n<p>Time complexity:\n$$ O(log(r-l)*(f(m) + g(m))) $$</p>\n<p>Space complexity:\n$$ O(1) $$</p>\n<h2 id=\"lower_bound\" style=\"position:relative;\"><a href=\"#lower_bound\" aria-label=\"lower_bound permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>lower_bound</h2>\n<p>返回第一个大于或等于 t 的索引值</p>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">// lowerBound first index of i, such that s[i] &gt;= t\nfunc lowerBound(s []int, t int) int {\n\tl := 0\n\tr := len(s)\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\tif s[m] &gt;= t {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}</code></pre></div>\n<h2 id=\"upper_bound\" style=\"position:relative;\"><a href=\"#upper_bound\" aria-label=\"upper_bound permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>upper_bound</h2>\n<p>返回第一个大于 t 的索引值</p>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">// upperBound first index of i, such that s[i] &gt; t\nfunc upperBound(s []int, t int) int {\n\tl := 0\n\tr := len(s)\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\tif s[m] &gt; t {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}</code></pre></div>\n<h1 id=\"example\" style=\"position:relative;\"><a href=\"#example\" aria-label=\"example permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h1>\n<h2 id=\"no1-leetcode-69-sqrtx\" style=\"position:relative;\"><a href=\"#no1-leetcode-69-sqrtx\" aria-label=\"no1 leetcode 69 sqrtx permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No.1 Leetcode 69 |sqrt(x)|</h2>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">func mySqrt(x int) int {\n\tl := 1\n\tr := x + 1\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\tif m*m &gt; x {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l - 1\n}</code></pre></div>\n<h2 id=\"no2-leetcode-278-first-bad-version\" style=\"position:relative;\"><a href=\"#no2-leetcode-278-first-bad-version\" aria-label=\"no2 leetcode 278 first bad version permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No.2 Leetcode 278. First Bad Version</h2>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">func firstBadVersion(n int) int {\n\tl := 0\n\tr := n\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\tif isBadVersion(m) {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}</code></pre></div>\n<h2 id=\"no3-leetcode-875-koko-eating-bananas\" style=\"position:relative;\"><a href=\"#no3-leetcode-875-koko-eating-bananas\" aria-label=\"no3 leetcode 875 koko eating bananas permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No.3 Leetcode 875. Koko Eating Bananas</h2>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">func maxInArr(nums []int) int {\n\tmax := nums[0]\n\tfor i := 1; i &lt; len(nums); i++ {\n\t\tif max &lt; nums[i] {\n\t\t\tmax = nums[i]\n\t\t}\n\t}\n\treturn max\n}\n\nfunc minEatingSpeed(piles []int, h int) int {\n\tl := 1\n\tr := maxInArr(piles) + 1\n\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\t_h := 0\n\t\tfor _, p := range piles {\n\t\t\t_h += (p + m - 1) / m\n\t\t}\n\t\tif _h &lt;= h {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}</code></pre></div>\n<h2 id=\"no4-leetcode-378-kth-smallest-element-in-a-sorted-matrix\" style=\"position:relative;\"><a href=\"#no4-leetcode-378-kth-smallest-element-in-a-sorted-matrix\" aria-label=\"no4 leetcode 378 kth smallest element in a sorted matrix permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No.4 Leetcode 378 Kth Smallest Element in a Sorted Matrix</h2>\n<div class=\"gatsby-highlight\" data-language=\"golang\"><pre class=\"language-golang\"><code class=\"language-golang\">func kthSmallest(matrix [][]int, k int) int {\n\tl := matrix[0][0]\n\tx, y := len(matrix), len(matrix[0])\n\tr := matrix[x][y]\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\ttotal := 0\n\t\tfor _, row := range matrix {\n\t\t\ttotal += upperBound(row, m)\n\t\t}\n\t\tif total &gt;= k {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}\n\nfunc upperBound(s []int, t int) int {\n\tl := 0\n\tr := len(s)\n\tfor l &lt; r {\n\t\tm := l + (r-l)/2\n\t\tif s[m] &gt; t {\n\t\t\tr = m\n\t\t} else {\n\t\t\tl = m + 1\n\t\t}\n\t}\n\treturn l\n}</code></pre></div>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"toc-anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=v57lNF2mb_s&#x26;list=PLLuMmzMTgVK5Hy1qcWYZcd7wVQQ1v0AjX&#x26;index=17\">https://www.youtube.com/watch?v=v57lNF2mb_s&#x26;list=PLLuMmzMTgVK5Hy1qcWYZcd7wVQQ1v0AjX&#x26;index=17</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#tempalte\">Tempalte</a></p>\n<ul>\n<li><a href=\"#lower_bound\">lower_bound</a></li>\n<li><a href=\"#upper_bound\">upper_bound</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#example\">Example</a></p>\n<ul>\n<li><a href=\"#no1-leetcode-69-sqrtx\">No.1 Leetcode 69 |sqrt(x)|</a></li>\n<li><a href=\"#no2-leetcode-278-first-bad-version\">No.2 Leetcode 278. First Bad Version</a></li>\n<li><a href=\"#no3-leetcode-875-koko-eating-bananas\">No.3 Leetcode 875. Koko Eating Bananas</a></li>\n<li><a href=\"#no4-leetcode-378-kth-smallest-element-in-a-sorted-matrix\">No.4 Leetcode 378 Kth Smallest Element in a Sorted Matrix</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"title":"二分查找","date":"2021-04-26"}}},"pageContext":{"slug":"/2021-04-26-binary_search.markdown"}},"staticQueryHashes":["3649515864"],"slicesMap":{}}